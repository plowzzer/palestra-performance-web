<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Video card 1</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- UIkit CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-beta.42/css/uikit.min.css" />
    <link rel="stylesheet" href="style.css">
    <!-- UIkit JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-beta.42/js/uikit.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-beta.42/js/uikit-icons.min.js"></script>
  </head>
  <body>
    <div id="container">
      <div class="uk-container">
        <h1>Calendar events</h1>
      </div>
      <div class="uk-container">
        <div id="list" uk-grid>
          <div class="uk-width-1-1 uk-width-1-2@m card">
            <div class="uk-card uk-card-default uk-card-body">
              <button type="button" uk-close></button>
              <h3 class="uk-card-title">Google IO <small class="alert alert-red">08-05</small></h3>
              <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </p>
            </div>
          </div>
          <div class="uk-width-1-1 uk-width-1-2@m card">
            <div class="uk-card uk-card-default uk-card-body">
              <button type="button" uk-close></button>
              <h3 class="uk-card-title">Mother's Day <small class="alert">13-05</small></h3>
              <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </p>
            </div>
          </div>
          <div class="uk-width-1-1 uk-width-1-2@m card">
            <div class="uk-card uk-card-default uk-card-body">
              <button type="button" uk-close></button>
              <h3 class="uk-card-title">Title <small class="alert">18-05</small></h3>
              <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </p>
            </div>
          </div>
          <div class="uk-width-1-1 uk-width-1-2@m card">
            <div class="uk-card uk-card-default uk-card-body">
              <button type="button" uk-close></button>
              <h3 class="uk-card-title">Title <small class="alert alert-red">12-03</small></h3>
              <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </p>
            </div>
          </div>
          <div class="uk-width-1-1 uk-width-1-2@m card">
            <div class="uk-card uk-card-default uk-card-body">
              <button type="button" uk-close></button>
              <h3 class="uk-card-title">Title <small class="alert alert-red">12-03</small></h3>
              <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </p>
            </div>
          </div>
          <div class="uk-width-1-1 uk-width-1-2@m card">
            <div class="uk-card uk-card-default uk-card-body">
              <button type="button" uk-close></button>
              <h3 class="uk-card-title">Title <small class="alert alert-red">12-03</small></h3>
              <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </p>
            </div>
          </div>
          <div class="uk-width-1-1 uk-width-1-2@m card">
            <div class="uk-card uk-card-default uk-card-body">
              <button type="button" uk-close></button>
              <h3 class="uk-card-title">Title <small class="alert alert-red">12-03</small></h3>
              <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </p>
            </div>
          </div>
          <div class="uk-width-1-1 uk-width-1-2@m card">
            <div class="uk-card uk-card-default uk-card-body">
              <button type="button" uk-close></button>
              <h3 class="uk-card-title">Title <small class="alert alert-red">12-03</small></h3>
              <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </p>
            </div>
          </div>
          <div class="uk-width-1-1 uk-width-1-2@m card">
            <div class="uk-card uk-card-default uk-card-body">
              <button type="button" uk-close></button>
              <h3 class="uk-card-title">Title <small class="alert alert-red">12-03</small></h3>
              <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </p>
            </div>
          </div>
          <div class="uk-width-1-1 uk-width-1-2@m card">
            <div class="uk-card uk-card-default uk-card-body">
              <button type="button" uk-close></button>
              <h3 class="uk-card-title">Title <small class="alert alert-red">12-03</small></h3>
              <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </p>
            </div>
          </div>
          <div class="uk-width-1-1 uk-width-1-2@m card">
            <div class="uk-card uk-card-default uk-card-body">
              <button type="button" uk-close></button>
              <h3 class="uk-card-title">Title <small class="alert alert-red">12-03</small></h3>
              <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </p>
            </div>
          </div>
          <div class="uk-width-1-1 uk-width-1-2@m card">
            <div class="uk-card uk-card-default uk-card-body">
              <button type="button" uk-close></button>
              <h3 class="uk-card-title">Title <small class="alert alert-red">12-03</small></h3>
              <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </p>
            </div>
          </div>


        </div>

      </div>
    </div>
    <footer>
      <script type="text/javascript">
        var nodesCartoes = document.querySelectorAll(".card");
        var cartoes = Array.prototype.slice.call(nodesCartoes);
        lista = document.getElementById('list');
        console.log(cartoes);
        cartoes.forEach((cartao) => cartao.addEventListener('click', cartaoOnClick));

        function cartaoOnClick() {
          preparaAnimacao(this);
          requestAnimationFrame(disparaAnimacao);
          this.addEventListener('transitionend', aposAnimacao);
        }
        function preparaAnimacao(cartaoARemover) {
          var posInicial = cartoes.map((cartao) => cartao.getBoundingClientRect());
          cartaoARemover.classList.add('remove');
          cartoes.forEach((cartao, i) => {
            var posFinal = cartao.getBoundingClientRect();
            var x = posInicial[i].left - posFinal.left;
            var y = posInicial[i].top - posFinal.top;
            cartao.style.transform = `translate(${x}px, ${y}px)`;
          });
        }
        function disparaAnimacao() {
          cartoes.forEach((cartao) =>
          cartao.style.transform = '' );
          lista.classList.add('anima');
        }
        function aposAnimacao() {
          lista.classList.remove('anima');
          this.remove();
        }
      </script>
    </footer>
  </body>
</html>
